{"openapi":"3.0.0","paths":{"/api/auth/login":{"post":{"operationId":"AuthController_login","summary":"Login a user","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginUserLocalDto"}}}},"responses":{"200":{"description":"User logged in. Sets the cookie and returns the user","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}}},"tags":["auth"]}},"/api/auth/register":{"post":{"operationId":"AuthController_register","summary":"Register a new user","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterUserDto"}}}},"responses":{"200":{"description":"User registered. Sets the cookie and returns the user","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["auth"]}},"/api/auth/logout":{"put":{"operationId":"AuthController_logout","summary":"Logout a user","parameters":[],"responses":{"200":{"description":"User logged out. Clears the cookie"}},"tags":["auth"]}},"/api/auth/profile":{"get":{"operationId":"AuthController_profile","summary":"Get the profile of a user","parameters":[],"responses":{"200":{"description":"Returns the profile of the user","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}}},"tags":["auth"]}}},"info":{"title":"DH - Piskotki","description":"API for DH - Piskotki","version":"1.0","contact":{}},"tags":[],"servers":[],"components":{"schemas":{"LoginUserLocalDto":{"type":"object","properties":{"email":{"type":"string","example":"example@gmail.com"},"password":{"type":"string","example":"12345678"}},"required":["email","password"]},"BookStatus":{"type":"string","enum":["AVAILABLE","BORROWED","IN_TRANSTT","LOST"]},"Achievement":{"type":"object","properties":{"id":{"type":"string"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"},"name":{"type":"string"},"description":{"type":"string"},"points":{"type":"number"},"User":{"$ref":"#/components/schemas/User"},"userId":{"type":"string"}},"required":["id","createdAt","updatedAt","name","description","points"]},"UserReview":{"type":"object","properties":{"id":{"type":"string"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"},"rating":{"type":"number"},"review":{"type":"string"},"author":{"$ref":"#/components/schemas/User"},"userId":{"type":"string"},"subject":{"$ref":"#/components/schemas/User"},"subjectId":{"type":"string"}},"required":["id","createdAt","updatedAt","rating","review","author","userId","subject","subjectId"]},"User":{"type":"object","properties":{"id":{"type":"string"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"},"email":{"type":"string"},"password":{"type":"string"},"numberOfBooksBorrowed":{"type":"number"},"ownedBooks":{"type":"array","items":{"$ref":"#/components/schemas/Book"}},"borrowedBooks":{"type":"array","items":{"$ref":"#/components/schemas/Book"}},"friendsTo":{"type":"array","items":{"$ref":"#/components/schemas/User"}},"friendsFrom":{"type":"array","items":{"$ref":"#/components/schemas/User"}},"achievements":{"type":"array","items":{"$ref":"#/components/schemas/Achievement"}},"reviewsProfile":{"type":"array","items":{"$ref":"#/components/schemas/UserReview"}},"reviewsLeft":{"type":"array","items":{"$ref":"#/components/schemas/UserReview"}}},"required":["id","createdAt","updatedAt","email","password","numberOfBooksBorrowed","ownedBooks","borrowedBooks","friendsTo","friendsFrom","achievements","reviewsProfile","reviewsLeft"]},"Book":{"type":"object","properties":{"id":{"type":"string"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"},"status":{"$ref":"#/components/schemas/BookStatus"},"title":{"type":"string"},"isbn":{"type":"string"},"price":{"type":"number"},"owner":{"$ref":"#/components/schemas/User"},"ownerId":{"type":"string"},"borrewer":{"$ref":"#/components/schemas/User"},"borrowerId":{"type":"string"}},"required":["id","createdAt","updatedAt","status","title","isbn","owner","ownerId"]},"RegisterUserDto":{"type":"object","properties":{"email":{"type":"string","example":"example@gmail.com"},"password":{"type":"string","example":"12345678"}},"required":["email","password"]}}}}